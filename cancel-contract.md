# Cancel Contract ‚Äî ActiveGo

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π**
–ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –ª—é–±–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ ActiveGo.

–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã:
- –∏–∑–±–µ–∂–∞—Ç—å –¥–≤–æ–π–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∏–º–º–µ—Ç—Ä–∏—é –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º
- —É–ø—Ä–æ—Å—Ç–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —É—Å–ª—É–≥
- –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å ¬´—Ç–∏—Ö–∏–µ¬ª –±–∞–≥–∏ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ

---

## üìå –ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

- **–ò—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `orders`**
- –í—Å–µ —Ä–∞—Å—á—ë—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
- –¢–∞–±–ª–∏—Ü—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (`service_dates`, `service_day_bookings`) ‚Äî
  —ç—Ç–æ –∞–≥—Ä–µ–≥–∞—Ç—ã / –∫—ç—à

---

## üîÅ –û–±—â–∏–π –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–º–µ–Ω—ã (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

–î–ª—è **–ª—é–±–æ–π** –æ—Ç–º–µ–Ω—ã:
- –∫–ª–∏–µ–Ω—Ç–æ–º
- –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º
- –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π (–≤ –±—É–¥—É—â–µ–º)

### ‚ùó –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:


‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ:
- –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –î–û –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –≤—ã–∑—ã–≤–∞—Ç—å restore –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞

---

## ‚ôªÔ∏è Restore availability ‚Äî –ø—Ä–∞–≤–∏–ª–∞

### 1. Restore –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏:
- –∑–∞–∫–∞–∑ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å `confirmed` (–∏–ª–∏ `approved`)

### 2. Restore –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º:
- –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –Ω–µ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ
- –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ / –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ –ª–æ–º–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### 3. Restore –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —É—Å–ª—É–≥–∏:

| –¢–∏–ø —É—Å–ª—É–≥–∏ | –ú–µ—Ö–∞–Ω–∏–∑–º restore |
|-----------|------------------|
| –ê—Ä–µ–Ω–¥–∞ | `restore_day_booking` –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç |
| –¢—É—Ä / —Å–æ–±—ã—Ç–∏–µ | `restore_tour_by_order` –ø–æ `service_id + booking_date` |
| (–±—É–¥—É—â–∏–µ —Ç–∏–ø—ã) | –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è restore-—Ñ—É–Ω–∫—Ü–∏—è |

---

## üß© –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ SQL-—Ñ—É–Ω–∫—Ü–∏—è–º restore

- SQL-—Ñ—É–Ω–∫—Ü–∏–∏ restore:
  - –ù–ï –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ, –µ—Å–ª–∏ –∑–∞–∫–∞–∑ —É–∂–µ –æ—Ç–º–µ–Ω—ë–Ω
  - –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ (`status = confirmed`)
  - –Ω–µ –¥–æ–ª–∂–Ω—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ

–ü—Ä–∏–º–µ—Ä (–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ):

```sql
select ...
from orders
where id = p_order_id
  and status = 'confirmed';

